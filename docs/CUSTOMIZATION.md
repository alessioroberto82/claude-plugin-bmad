# BMAD — Customization Guide

This guide explains how to customize BMAD for your team and projects. You can change everything from team principles to individual role behavior.

## Quick Customization

If you just want to tweak how BMAD works for your project, here are the most common changes:

| What you want to do | How |
|---|---|
| Give a role extra instructions for your project | Create a config file (see Section 1 below) |
| Change the team's working principles | Edit `plugin/resources/soul.md` — plain text, takes effect immediately |
| Add a document template for the Documentation Steward | Drop a `.md` file in `plugin/resources/templates/docs/` |
| Add a new role to the circle | Create a folder and skill file (see Section 2 below) |

## Customization Layers

| Layer | What | Where | Friction |
|---|---|---|---|
| **Soul** | Team principles | `plugin/resources/soul.md` | Edit file, instant effect |
| **Per-project config** | Role overrides, templates | `~/.claude/bmad/projects/<project>/config.yaml` | Create YAML file |
| **Role behavior** | Role definitions | `plugin/skills/bmad-<name>/SKILL.md` | Edit SKILL.md |
| **Templates** | Document templates | `plugin/resources/templates/` | Drop .md file |
| **New role** | Add a circle member | `plugin/skills/bmad-<name>/SKILL.md` | Create directory + file |
| **Code review** | PR review with CLAUDE.md compliance | `/bmad-code-review <PR>` | Invoke on any open PR |

---

## 1. Per-Project Configuration

This is a settings file that tells BMAD roles how to behave differently for a specific project. Copy the example and change the values to match your project.

Create `~/.claude/bmad/projects/<project-name>/config.yaml`:

```yaml
# What kind of project this is (software, business, personal, or general)
domain: software

# Which optional steps to include in the full workflow
greenfield_defaults:
  ux: true          # Include UX design phase
  security: true    # Include security review
  facilitate: false  # Skip sprint planning

# Instructions for specific roles
agents:
  bmad-arch:
    context_files:
      - docs/ARCHITECTURE.md
    extra_instructions: |
      This project uses a layered architecture with dependency injection.

  bmad-impl:
    extra_instructions: |
      Follow project coding standards and existing conventions.
```

See `plugin/resources/templates/config-example.yaml` for a full example with all available options.

---

## 2. Adding a New Role

1. Create the directory: `plugin/skills/bmad-<name>/`
2. Create `SKILL.md` with this template:

```yaml
---
name: bmad-<name>
description: "<Role Name> — <One-line purpose>. <When to use>."
context: fork
agent: general-purpose
allowed-tools: Read, Grep, Glob, Bash
---

# <Role Name>

You energize the **<Role Name>** role in the BMAD circle.

## Soul
Read and embody the principles in `${CLAUDE_PLUGIN_ROOT}/resources/soul.md`.

## Your Role
<2-3 sentences about the role's purpose and accountabilities>

## Domain Detection
<Standard domain detection block>

## Input Prerequisites
<What files to read, error if missing>

## Process
1. <Step-by-step execution>
2. <Save output to ~/.claude/bmad/projects/{project}/output/<name>/>

## Handoff
> **<Role Name> — Complete.**
> Output saved to: <path>
> Next suggested role: <recommendation>
```

3. Done. Claude Code auto-discovers the skill.
4. Optionally add to `bmad-greenfield/SKILL.md` workflow sequence.

---

## 3. Adding a New Template

1. Drop a `.md` file in the appropriate directory:
   - `plugin/resources/templates/docs/` — for the Documentation Steward
   - `plugin/resources/templates/software/` — for roles (PRD, architecture, etc.)

2. Use `{placeholder}` patterns for dynamic content.

3. The Documentation Steward will automatically discover and list new templates in the docs/ directory.

---

## 4. Modifying the Soul

Edit `plugin/resources/soul.md`. Changes take effect on the next skill invocation.

The Soul is loaded by every role and sets the behavioral foundation. It includes both team principles and holacracy alignment guidelines. Keep it concise and principle-based.

---

## 5. Adding to the Greenfield Workflow

To add a new role to the greenfield orchestrator:

1. Edit `plugin/skills/bmad-greenfield/SKILL.md`
2. Add the role to the workflow sequence
3. Add to the "Role Sequence Detail" table
4. Add checkpoint handling in the execution phase

---

## For Developers: Context Model Reference

> This section is for developers who are modifying or creating roles. You can skip this if you're just using BMAD.

| Context | When to Use | Effect |
|---|---|---|
| `fork` | Work roles (analysis, design, implementation) | Isolated subagent, clean context, no bleed between runs |
| `same` | Orchestrators, interactive workflows, utilities | Runs in main conversation, supports multi-turn dialogue |

---

## For Developers: Agent Type Reference

> This section is for developers building custom roles.

| Agent Type | When to Use |
|---|---|
| `Explore` | Discovery, analysis, codebase exploration |
| `Plan` | Architecture, design, planning |
| `qa` | Testing, validation, quality checks |
| `general-purpose` | Implementation, coordination, anything else |

---

## For Developers: MCP Integration

> This section is for developers who want to connect BMAD roles to external services via MCP (Model Context Protocol).

Roles reference MCP tools (Linear, claude-mem, and domain-specific servers) but degrade gracefully if unavailable. To configure:

- **Linear**: Set up Linear MCP server in Claude Code settings
- **claude-mem**: Install claude-mem plugin for cross-session memory
- **Domain-specific tools**: Configured via `deps-manifest.yaml` groups (e.g., Cupertino for iOS, installed automatically by `bmad-init` when domain markers are detected)

Per-project Linear mapping in `config.yaml`:
```yaml
linear:
  team: "My Team"
  project: "My Project"
```
